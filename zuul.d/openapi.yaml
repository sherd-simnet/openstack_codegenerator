---
- job:
    name: openstackcodegenerator-openapi-nova
    parent: unittests
    description: |
      Generate OpenAPI spec for nova
    required-projects:
      - name: openstack/codegenerator
      - name: openstack/nova

    attempts: 1
    voting: false
    timeout: 600
    pre-run:
      - playbooks/openapi/pre.yaml
      - playbooks/openapi/pre-compute.yaml
    post-run:
      - playbooks/openapi/post.yaml
    run:
      - playbooks/openapi/run.yaml
    vars:
      openapi_service: compute
      codegenerator_work_dir: "wrk"
